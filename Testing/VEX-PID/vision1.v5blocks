{"mode":"Blocks","workspace":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"U`9aA+=)r+L1tzA.)-qi\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">myVariable</variable><variable type=\"\" id=\"XEN)_{|TAY@)qn%QSxxJ\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">P</variable><variable type=\"\" id=\"H}GjyvOARXVEDO#cPv`E\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">error</variable></variables><block type=\"v5_events_when_started\" id=\".NsXwU_L.OuU1l7Sho$F\" x=\"70\" y=\"110\"><next><block type=\"v5_variables_set_variable\" id=\"r5si7y@W$q?2eq4xxB1V\"><field name=\"VARIABLE\" id=\"XEN)_{|TAY@)qn%QSxxJ\" variabletype=\"\">P</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"AW`hHj~lE:8@*4ZccOcH\"><field name=\"NUM\">.5</field></shadow></value><next><block type=\"v5_control_forever\" id=\"ju=tDEfNi}#lwcZ[SbFD\"><statement name=\"SUBSTACK\"><block type=\"v5_sensing_snapshot\" id=\"qA%v_^or=DkzferBTy(~\"><field name=\"VISION\">Vision21</field><field name=\"SIGNATURE\">SIG_0</field><next><block type=\"v5_looks_set_cursor\" id=\"@OiO@?R|(;cnQ([ub*|q\"><field name=\"TARGET\">Brain</field><value name=\"ROW\"><shadow type=\"math_whole_number\" id=\"W$4JY6-)E?P^=CS*zO.F\"><field name=\"NUM\">1</field></shadow></value><value name=\"COLUMN\"><shadow type=\"math_whole_number\" id=\"?8H7i^a:o!/En/]bPr,K\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"v5_looks_clear_row\" id=\"vQppCF%h%C_0KcT)Pgu1\"><field name=\"TARGET\">Brain</field><value name=\"ROW\"><shadow type=\"math_whole_number\" id=\",DIg3:mqhvvJSozatsWX\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"v5_looks_print\" id=\";W1x?tJ!Y/j_U5,Gr|/~\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">FALSE</field><value name=\"DATA\"><shadow type=\"text\" id=\"qiy]WUdg;IQ?rv6$SBoC\"><field name=\"TEXT\">VEXcode</field></shadow><block type=\"v5_sensing_object_count\" id=\"bup.%29-+~}jYSCAU2:]\"><field name=\"VISION\">Vision21</field></block></value><next><block type=\"v5_control_if_then_else\" id=\"Slw@6;b25-R9-Ms-NAHm\"><value name=\"CONDITION\"><block type=\"v5_operator_or\" id=\",1L2|nH!,iPi~R/R:jZa\"><value name=\"OPERAND1\"><block type=\"v5_operator_less_than\" id=\"bqWy-:Fx$^9T#Euy6@r*\"><value name=\"OPERAND1\"><shadow type=\"math_number\" id=\"nah1E:e5dCY_+E)@]1v7\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_vision_object\" id=\"v).e,h|1B,-J;TaF@:P;\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">width</field></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"w95.#lsX;O8dt~}-g(Lp\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"OPERAND2\"><block type=\"v5_operator_equal_to\" id=\"[Z424Yu:Cch}q_MS}GQ+\"><value name=\"OPERAND1\"><shadow type=\"math_number\" id=\"=c{ayH1Z`7=+n81@N6DO\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_vision_object\" id=\"+43:Yax_6${_o]Ht1A~x\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">width</field></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"vI/;,,v1,mlIsKr$(/`S\"><field name=\"NUM\">100</field></shadow></value></block></value></block></value><statement name=\"SUBSTACK\"><block type=\"v5_sensing_set_vision_object_index\" id=\"yq8e}f:Y+.4ckWb=}WFk\"><field name=\"VISION\">Vision21</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"*2x.P3u:CuaAC^MTkI5-\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"p3^f?46=ZX5%WpodDv?)\"><field name=\"VARIABLE\" id=\"H}GjyvOARXVEDO#cPv`E\" variabletype=\"\">error</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"3uusvQVt`.lP.c_|]T;z\"><field name=\"NUM\">0</field></shadow><block type=\"v5_operator_subtract\" id=\"~BS~zHJjp^9=td_tsYDu\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"xc0P7P:nnM/SP8I.h6c2\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_vision_object\" id=\"P#vit~R2eXFElB(36|yb\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">centerX</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"?Q3{d3~o=Ux!9ikcX=p7\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"v5_drivetrain_set_turn_velocity\" id=\"z]^CYG1w[R|OBvsW5Lox\"><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"]}Qz|WE`.(=mi+p/Le!/\"><field name=\"NUM\">50</field></shadow><block type=\"v5_operator_multiply\" id=\"G~#w_mgC@HiR#k$m3l.*\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"~l~~:%@JSa`XIxwDyIj:\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"nKP0{}DzP`s[=2]jbRL)\"><field name=\"VARIABLE\" id=\"XEN)_{|TAY@)qn%QSxxJ\" variabletype=\"\">P</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\":[8C@2?$TWMgG;To[^Xy\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"a8Pawk3On4Qig$NEk}ui\"><field name=\"VARIABLE\" id=\"H}GjyvOARXVEDO#cPv`E\" variabletype=\"\">error</field></block></value></block></value><next><block type=\"v5_drivetrain_turn\" id=\"],pNREW?^FZ5Tn:qC_N0\"><field name=\"TURNDIRECTION\">right</field></block></next></block></next></block></next></block></statement><statement name=\"SUBSTACK2\"><block type=\"v5_motion_stop_driving\" id=\"oZeSTia5v1p_x9b?#D8U\"></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></xml>","rconfig":[{"port":[21],"name":"Vision21","customName":false,"deviceType":"Vision","deviceClass":"vision","setting":{"config":"{\"config\":{\"brightness\":50,\"signatures\":[{\"name\":\"SIG_0\",\"parameters\":{\"uMin\":7251,\"uMax\":10427,\"uMean\":8839,\"vMin\":-1567,\"vMax\":-533,\"vMean\":-1050,\"rgb\":8011575.997016163,\"type\":0,\"name\":\"SIG_0\"},\"range\":2.5},{\"name\":\"SIG_1\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_1\"},\"range\":2.5},{\"name\":\"SIG_3\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_3\"},\"range\":2.5},{\"name\":\"SIG_4\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_4\"},\"range\":2.5},{\"name\":\"SIG_5\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_5\"},\"range\":2.5},{\"name\":\"SIG_6\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_6\"},\"range\":2.5},{\"name\":\"SIG_7\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_7\"},\"range\":2.5}],\"codes\":[]}}","isConfigured":"false"}},{"port":[1,10,2],"name":"Drivetrain","customName":false,"deviceType":"Drivetrain","deviceClass":"smartdrive","setting":{"type":"2-motor","wheelSize":"wheel4in","gear":"ratio18_1","gearRatio":"1:1","direction":"fwd","gyroType":"threewire","width":"295","unit":"mm","wheelbase":"40","wheelbaseUnit":"mm","xOffset":"0","xOffsetUnit":"mm","yOffset":"0","yOffsetUnit":"mm","thetaOffset":"180"},"triportSourcePort":22},{"port":[],"name":"Controller1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"}},{"port":[8],"name":"Motor8","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"}}],"slot":0,"platform":"V5","sdkVersion":"20211013.15.00.00","appVersion":"2.2.1","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","cppStatus":"true","cpp":"// Make sure all required headers are included.\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n#include <math.h>\n#include <string.h>\n\n\n#include \"vex.h\"\n\nusing namespace vex;\n\n// Brain should be defined by default\nbrain Brain;\n\n\n// START V5 MACROS\n#define waitUntil(condition)                                                   \\\n  do {                                                                         \\\n    wait(5, msec);                                                             \\\n  } while (!(condition))\n\n#define repeat(iterations)                                                     \\\n  for (int iterator = 0; iterator < iterations; iterator++)\n// END V5 MACROS\n\n\n// Robot configuration code.\n/*vex-vision-config:begin*/\nvision::signature Vision21__SIG_0 = vision::signature (1, 7251, 10427, 8839,-1567, -533, -1050,2.5, 0);\nvision Vision21 = vision (PORT21, 50, Vision21__SIG_0);\n/*vex-vision-config:end*/\nmotor LeftDriveSmart = motor(PORT1, ratio18_1, false);\nmotor RightDriveSmart = motor(PORT10, ratio18_1, true);\ngyro DrivetrainGyro = gyro(Brain.ThreeWirePort.B);\nsmartdrive Drivetrain = smartdrive(LeftDriveSmart, RightDriveSmart, DrivetrainGyro, 319.19, 320, 40, mm, 1);\n\ncontroller Controller1 = controller(primary);\nmotor Motor8 = motor(PORT8, ratio18_1, false);\n\n\nvoid calibrateDrivetrain() {\n  wait(200, msec);\n  Brain.Screen.print(\"Calibrating\");\n  Brain.Screen.newLine();\n  Brain.Screen.print(\"Gyro\");\n  DrivetrainGyro.calibrate();\n  while (DrivetrainGyro.isCalibrating()) {\n    wait(25, msec);\n  }\n\n  // Clears the screen and returns the cursor to row 1, column 1.\n  Brain.Screen.clearScreen();\n  Brain.Screen.setCursor(1, 1);\n}\n\n\n\n// Generated code.\n\n\n\n// define variable for remote controller enable/disable\nbool RemoteControlCodeEnabled = true;\n\n\n\n// Include the V5 Library\n#include \"vex.h\"\n  \n// Allows for easier use of the VEX Library\nusing namespace vex;\n\nint Brain_precision = 0, Console_precision = 0, Controller1_precision = 0, Vision21_objectIndex = 0;\n\nfloat myVariable, P, error;\n\n// Used to find the format string for printing numbers with the\n// desired number of decimal places\nconst char* printToBrain_numberFormat() {\n  // look at the current precision setting to find the format string\n  switch(Brain_precision){\n    case 0:  return \"%.0f\"; // 0 decimal places (1)\n    case 1:  return \"%.1f\"; // 1 decimal place  (0.1)\n    case 2:  return \"%.2f\"; // 2 decimal places (0.01)\n    case 3:  return \"%.3f\"; // 3 decimal places (0.001)\n    default: return \"%f\"; // use the print system default for everthing else\n  }\n}\n\n// \"when started\" hat block\nint whenStarted1() {\n  P = 0.5;\n  while (true) {\n    Vision21.takeSnapshot(Vision21__SIG_0);\n    Brain.Screen.setCursor(1, 1);\n    Brain.Screen.clearLine(1);\n    Brain.Screen.setCursor(Brain.Screen.row(), 1);\n    Brain.Screen.print(printToBrain_numberFormat(), static_cast<float>(Vision21.objectCount));\n    if (Vision21.objects[Vision21_objectIndex].width < 100.0 || Vision21.objects[Vision21_objectIndex].width == 100.0) {\n      Vision21_objectIndex = static_cast<int>(1.0) - 1;\n      error = Vision21.objects[Vision21_objectIndex].centerX - 180.0;\n      Drivetrain.setTurnVelocity((P * error), percent);\n      Drivetrain.turn(right);\n    }\n    else {\n      Drivetrain.stop();\n    }\n  wait(5, msec);\n  }\n  return 0;\n}\n\n\nint main() {\n  // Calibrate the Drivetrain\n  calibrateDrivetrain();\n\n  // post event registration\n\n  // set default print color to black\n  printf(\"\\033[30m\");\n\n  // wait for rotation sensor to fully initialize\n  wait(30, msec);\n\n  whenStarted1();\n}","target":"Physical"}