{"mode":"Blocks","workspace":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"U`9aA+=)r+L1tzA.)-qi\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">myVariable</variable><variable type=\"\" id=\"0a?pV)Ed=1+vGx73O;W,\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">P</variable><variable type=\"\" id=\"q)z*YdoR0OEOM%tunl%L\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">setpoint</variable><variable type=\"\" id=\"~Oxlcj$ZZ)KoWMUJW/um\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">driveDiff</variable><variable type=\"\" id=\"KYHFqrZJ?1XEE?VeE9yW\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">baseSpeed</variable><variable type=\"\" id=\"7!zJL9t]%d7KSAt}]@(]\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">error</variable></variables><block type=\"v5_events_when_started\" id=\".NsXwU_L.OuU1l7Sho$F\" x=\"70\" y=\"110\"><next><block type=\"v5_variables_set_variable\" id=\"Q=kB/Qv9@FpJacVF#_wy\"><field name=\"VARIABLE\" id=\"0a?pV)Ed=1+vGx73O;W,\" variabletype=\"\">P</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"aS2uMMeaSWUO$l`6s:2q\"><field name=\"NUM\">.5</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"KMsF`Y[={DUyh18e.oMN\"><field name=\"VARIABLE\" id=\"q)z*YdoR0OEOM%tunl%L\" variabletype=\"\">setpoint</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"A=-?Kg43;Vzldu7C[?t^\"><field name=\"NUM\">180.0</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"tSy(?2GQ@3oZ:V03PBzk\"><field name=\"VARIABLE\" id=\"~Oxlcj$ZZ)KoWMUJW/um\" variabletype=\"\">driveDiff</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"{Fy8l_tm]F!.gW$Ns~4+\"><field name=\"NUM\">0.0</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"[vs6Ki-+vth_~CkvVCs_\"><field name=\"VARIABLE\" id=\"KYHFqrZJ?1XEE?VeE9yW\" variabletype=\"\">baseSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"fY:$g%C!x7aP3nr@}`Va\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"v5_control_forever\" id=\"=i{He2~HmDRF^P/x3V:r\"><statement name=\"SUBSTACK\"><block type=\"v5_sensing_snapshot\" id=\"45e|P02ZVXoqN5Z@gCeV\"><field name=\"VISION\">Vision21</field><field name=\"SIGNATURE\">SIG_2</field><next><block type=\"v5_looks_set_cursor\" id=\"qAyTRuiZV@5(K#_@#OoO\"><field name=\"TARGET\">Brain</field><value name=\"ROW\"><shadow type=\"math_whole_number\" id=\"Wf`9UC/V{F.K#K6N^sl0\"><field name=\"NUM\">1</field></shadow></value><value name=\"COLUMN\"><shadow type=\"math_whole_number\" id=\"hR*Zu8*3Z;/[OmOCx5M9\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"v5_looks_print\" id=\"mu%JuC$3vOq7$u^-zWed\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">FALSE</field><value name=\"DATA\"><shadow type=\"text\" id=\"]amJtgTz5H7O[#Zly~qa\"><field name=\"TEXT\">VEXcode</field></shadow><block type=\"v5_variables_variable\" id=\"(Pp*[WNs4ix0Vxs]mnAY\"><field name=\"VARIABLE\" id=\"7!zJL9t]%d7KSAt}]@(]\" variabletype=\"\">error</field></block></value><next><block type=\"v5_looks_print\" id=\"C3!4{w3`a|yGkQ/kPBi.\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">FALSE</field><value name=\"DATA\"><shadow type=\"text\" id=\"#5P72+~4h4cdo|b$DKVJ\"><field name=\"TEXT\">            </field></shadow></value><next><block type=\"v5_control_if_then\" id=\"(nmlrPMYi$ao.=1OF+/r\"><value name=\"CONDITION\"><block type=\"v5_operator_or\" id=\"?(11/EPcR`A#7v.L;eH*\"><value name=\"OPERAND1\"><block type=\"v5_operator_greater_than\" id=\"vCVqHg.rJvipdC?xC(Xn\"><value name=\"OPERAND1\"><shadow type=\"math_number\" id=\"W4}k*?zq:MPfSlL)8y^J\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_vision_object\" id=\"0(3HnB5qMo/Xpy~)3*VQ\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">height</field></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"o{(}*^A:R=.Eo0DVd%]A\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"OPERAND2\"><block type=\"v5_operator_equal_to\" id=\"U6%gm^%kZYD@Y0sV`ovU\"><value name=\"OPERAND1\"><shadow type=\"math_number\" id=\"lynm}xlQBWU8p36JxFe}\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_vision_object\" id=\"fb|7w%B8AS]EjY/Q?B_z\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">height</field></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"*BL4NM5aRh0Q0-IPF2(r\"><field name=\"NUM\">100</field></shadow></value></block></value></block></value><statement name=\"SUBSTACK\"><block type=\"v5_variables_set_variable\" id=\"+uN2XbHPk~3SQ,dyThB:\"><field name=\"VARIABLE\" id=\"7!zJL9t]%d7KSAt}]@(]\" variabletype=\"\">error</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"eN.:4eAjf72KBV5C9D^r\"><field name=\"NUM\">0</field></shadow><block type=\"v5_operator_subtract\" id=\"5{U+.G@/p{|(jVsjpQ(9\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"9Ewz{-=g`(3H@yJX*Xef\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"4_0-9`-#OB[*7rJY/Bqr\"><field name=\"VARIABLE\" id=\"q)z*YdoR0OEOM%tunl%L\" variabletype=\"\">setpoint</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"mXFp[v=2e{;46O%=aCY+\"><field name=\"NUM\">180</field></shadow><block type=\"v5_sensing_vision_object\" id=\"vV~|G@_8S0ftCFL-r`Q6\"><field name=\"VISION\">Vision21</field><field name=\"PROPERTY\">centerX</field></block></value></block></value><next><block type=\"v5_sensing_set_vision_object_index\" id=\"}*#tAEpR.3zbVNNODjb2\"><field name=\"VISION\">Vision21</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"F^y)b+mvzNKGRM`EC`UI\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"v5_control_if_then_else\" id=\"nmX7Fr-EfSE)|I-;Y=oX\"><value name=\"CONDITION\"><block type=\"v5_operator_equal_to\" id=\"+@q#E+I;D}Zg]!$B+#]D\"><value name=\"OPERAND1\"><shadow type=\"math_number\" id=\"7h-1?ZnDptY58^[ueu!W\"><field name=\"NUM\"></field></shadow><block type=\"v5_sensing_object_count\" id=\"TQ59a^hO{mZSeAcqbZ*+\"><field name=\"VISION\">Vision21</field></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"X-hp6shi~JN3$FYC9dyu\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"SUBSTACK\"><block type=\"v5_variables_set_variable\" id=\"oPtSSTp:hCo_mqSY@BKA\"><field name=\"VARIABLE\" id=\"~Oxlcj$ZZ)KoWMUJW/um\" variabletype=\"\">driveDiff</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"vmYN/:+dakKeAc`p!0E)\"><field name=\"NUM\">0</field></shadow><block type=\"v5_operator_multiply\" id=\"*lbTQI!eXi]GK;xqdB~A\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"`2=R~{6CI$$F-dWX1j=/\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"739t!$_gi]::j,th1k[O\"><field name=\"VARIABLE\" id=\"0a?pV)Ed=1+vGx73O;W,\" variabletype=\"\">P</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"=m41*5d!Iq%1#rG{(fOs\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"`ZD|pGhbXD*{t|Q/n2-L\"><field name=\"VARIABLE\" id=\"7!zJL9t]%d7KSAt}]@(]\" variabletype=\"\">error</field></block></value></block></value><next><block type=\"v5_motion_set_motor_velocity\" id=\"+n8CY9VFqH7-`r?[DG@$\"><field name=\"MOTOR\">MotorLEFT</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"wKQxsv,Lk%b@O4#5QX-o\"><field name=\"NUM\">50</field></shadow><block type=\"v5_operator_add\" id=\"JBn}rVVuQ|!U6^E1jE-M\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"Qml+C`t`g=/DG4?=VLu|\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"eomz-.jGK@6nOo.b6xnj\"><field name=\"VARIABLE\" id=\"KYHFqrZJ?1XEE?VeE9yW\" variabletype=\"\">baseSpeed</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\";OFezIzy1X@@aKI96L{/\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"QEEjWax%DCpB1UkWB(Ru\"><field name=\"VARIABLE\" id=\"~Oxlcj$ZZ)KoWMUJW/um\" variabletype=\"\">driveDiff</field></block></value></block></value><next><block type=\"v5_motion_set_motor_velocity\" id=\"]]:gQLa,@qFFBJ^^k1YU\"><field name=\"MOTOR\">MotorLEFT</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"[lG6BTC-uB8gG_a~#tAF\"><field name=\"NUM\">50</field></shadow><block type=\"v5_operator_subtract\" id=\"sb2`RIhSAU|Fz|DRY5,^\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"`#^L93lTf1+VaL|cUSK1\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"W!0m2Im0.5OBHS?d33nw\"><field name=\"VARIABLE\" id=\"KYHFqrZJ?1XEE?VeE9yW\" variabletype=\"\">baseSpeed</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"pWTjMSJ*?mLhMjAi3GZ6\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"rHG0WwjH)MVXz053gi[N\"><field name=\"VARIABLE\" id=\"~Oxlcj$ZZ)KoWMUJW/um\" variabletype=\"\">driveDiff</field></block></value></block></value><next><block type=\"v5_motion_spin\" id=\"*1$xUH==@Qlpfki1y.cA\"><field name=\"MOTOR\">MotorLEFT</field><field name=\"DIRECTION\">fwd</field><next><block type=\"v5_motion_spin\" id=\"q5T-DAa!]vGnaI@QCyV6\"><field name=\"MOTOR\">MotorRIGHT</field><field name=\"DIRECTION\">fwd</field></block></next></block></next></block></next></block></next></block></statement><statement name=\"SUBSTACK2\"><block type=\"v5_motion_stop_motor\" id=\"Gxkz9Je}I603}q/Bk~}g\"><field name=\"MOTOR\">MotorLEFT</field><next><block type=\"v5_motion_stop_motor\" id=\"$X.SlWN[YP$_OeLLr|LD\"><field name=\"MOTOR\">MotorRIGHT</field></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"v5_control_wait\" id=\"R/*ZvRo,*(/*tkfuNr0m\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"@P]3^WK)C|+g.@5BCQ,b\"><field name=\"NUM\">.01</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></xml>","rconfig":[{"port":[21],"name":"Vision21","customName":false,"deviceType":"Vision","deviceClass":"vision","setting":{"config":"{\"config\":{\"brightness\":50,\"signatures\":[{\"name\":\"SIG_1\",\"parameters\":{\"uMin\":-3131,\"uMax\":-2379,\"uMean\":-2755,\"vMin\":5941,\"vMax\":9221,\"vMean\":7581,\"rgb\":3954067.388709793,\"type\":0,\"name\":\"SIG_1\"},\"range\":3},{\"name\":\"SIG_2\",\"parameters\":{\"uMin\":-2433,\"uMax\":-1545,\"uMean\":-1989,\"vMin\":4259,\"vMax\":7185,\"vMean\":5722,\"rgb\":2305614.1004761904,\"type\":0,\"name\":\"SIG_2\"},\"range\":3},{\"name\":\"SIG_3\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_3\"},\"range\":2.5},{\"name\":\"SIG_4\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_4\"},\"range\":2.5},{\"name\":\"SIG_5\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_5\"},\"range\":2.5},{\"name\":\"SIG_6\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_6\"},\"range\":2.5},{\"name\":\"SIG_7\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_7\"},\"range\":2.5}],\"codes\":[]}}","isConfigured":"false"},"triportSourcePort":22},{"port":[1],"name":"MotorLEFT","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[10],"name":"MotorRIGHT","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse","gear":"ratio18_1"},"triportSourcePort":22},{"port":[],"name":"Controller1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"},"triportSourcePort":22}],"slot":0,"platform":"V5","sdkVersion":"20211013.15.00.00","appVersion":"2.2.1","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","cppStatus":"true","cpp":"// Make sure all required headers are included.\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n#include <math.h>\n#include <string.h>\n\n\n#include \"vex.h\"\n\nusing namespace vex;\n\n// Brain should be defined by default\nbrain Brain;\n\n\n// START V5 MACROS\n#define waitUntil(condition)                                                   \\\n  do {                                                                         \\\n    wait(5, msec);                                                             \\\n  } while (!(condition))\n\n#define repeat(iterations)                                                     \\\n  for (int iterator = 0; iterator < iterations; iterator++)\n// END V5 MACROS\n\n\n// Robot configuration code.\n/*vex-vision-config:begin*/\nvision::signature Vision21__SIG_1 = vision::signature (1, -3131, -2379, -2755,5941, 9221, 7581,3, 0);\nvision::signature Vision21__SIG_2 = vision::signature (2, -2433, -1545, -1989,4259, 7185, 5722,3, 0);\nvision Vision21 = vision (PORT21, 50, Vision21__SIG_1, Vision21__SIG_2);\n/*vex-vision-config:end*/\nmotor MotorLEFT = motor(PORT1, ratio18_1, false);\n\nmotor MotorRIGHT = motor(PORT10, ratio18_1, true);\n\ncontroller Controller1 = controller(primary);\n\n\n\n\n\n// Generated code.\n\n\n\n// define variable for remote controller enable/disable\nbool RemoteControlCodeEnabled = true;\n\n\n\n// Include the V5 Library\n#include \"vex.h\"\n  \n// Allows for easier use of the VEX Library\nusing namespace vex;\n\nint Brain_precision = 0, Console_precision = 0, Controller1_precision = 0, Vision21_objectIndex = 0;\n\nfloat myVariable, P, setpoint, driveDiff, baseSpeed, error;\n\n// Used to find the format string for printing numbers with the\n// desired number of decimal places\nconst char* printToBrain_numberFormat() {\n  // look at the current precision setting to find the format string\n  switch(Brain_precision){\n    case 0:  return \"%.0f\"; // 0 decimal places (1)\n    case 1:  return \"%.1f\"; // 1 decimal place  (0.1)\n    case 2:  return \"%.2f\"; // 2 decimal places (0.01)\n    case 3:  return \"%.3f\"; // 3 decimal places (0.001)\n    default: return \"%f\"; // use the print system default for everthing else\n  }\n}\n\n// \"when started\" hat block\nint whenStarted1() {\n  P = 0.5;\n  setpoint = 180.0;\n  driveDiff = 0.0;\n  baseSpeed = 5.0;\n  while (true) {\n    Vision21.takeSnapshot(Vision21__SIG_2);\n    Brain.Screen.setCursor(1, 1);\n    Brain.Screen.print(printToBrain_numberFormat(), static_cast<float>(error));\n    Brain.Screen.print(\"            \");\n    if (Vision21.objects[Vision21_objectIndex].height > 100.0 || Vision21.objects[Vision21_objectIndex].height == 100.0) {\n      error = setpoint - Vision21.objects[Vision21_objectIndex].centerX;\n      Vision21_objectIndex = static_cast<int>(1.0) - 1;\n      if (Vision21.objectCount == 1.0) {\n        driveDiff = P * error;\n        MotorLEFT.setVelocity((baseSpeed + driveDiff), percent);\n        MotorLEFT.setVelocity((baseSpeed - driveDiff), percent);\n        MotorLEFT.spin(forward);\n        MotorRIGHT.spin(forward);\n      }\n      else {\n        MotorLEFT.stop();\n        MotorRIGHT.stop();\n      }\n    }\n    wait(0.01, seconds);\n  wait(5, msec);\n  }\n  return 0;\n}\n\n\nint main() {\n  // Calibrate the Drivetrain\n  calibrateDrivetrain();\n\n  // post event registration\n\n  // set default print color to black\n  printf(\"\\033[30m\");\n\n  // wait for rotation sensor to fully initialize\n  wait(30, msec);\n\n  whenStarted1();\n}","target":"Physical"}